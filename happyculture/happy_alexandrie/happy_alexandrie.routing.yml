# Basic configuration page
happy_alexandrie.library_information_simple:
  path: '/admin/config/system/library-info'
  defaults:
    _form: '\Drupal\happy_alexandrie\Form\AlexandrieConfigForm'
    _title: 'Alexandrie library opening information'
  requirements:
    _permission: 'administer site configuration'

# Advanced configuration with group and items
# Definie the configuration group
happy_alexandrie.config_library:
  path: '/admin/config/alexandrie'
  defaults:
    _controller: '\Drupal\system\Controller\SystemController::systemAdminMenuBlockPage'
    _title: 'Alexandrie library'
  requirements:
    _permission: 'access administration pages'

# Add some configuration items
happy_alexandrie.config_library_information:
  path: '/admin/config/alexandrie/library-info'
  defaults:
    _form: '\Drupal\happy_alexandrie\Form\AlexandrieConfigForm'
    _title: 'Alexandrie library opening information'
  requirements:
    _permission: 'administer site configuration'

# NORMAL ROUTES -------------------------------
# Displays the welcome message.
happy_alexandrie.simple_welcome_controller:
  path: '/welcome'
  defaults:
    _controller: '\Drupal\happy_alexandrie\Controller\AlexandrieController::helloWorld'
    _title: 'Welcome Title'
  requirements:
    _permission: 'access alexandrie library'


# Displays the welcome message if you access during the opening hours.
happy_alexandrie.welcome_timelimited_access:
  path: '/welcome-limited'
  defaults:
    _controller: '\Drupal\happy_alexandrie\Controller\AlexandrieController::helloWorld'
    _title: 'Welcome'
  requirements:
    _custom_access: '\Drupal\happy_alexandrie\Controller\AlexandrieAccess::accessLibrary'
    _permission: 'access alexandrie library'

# Lists the books in a dedicated view mode.
happy_alexandrie.books_list:
  path: '/books'
  defaults:
    _controller: '\Drupal\happy_alexandrie\Controller\AlexandrieController::booksList'
    _title: 'Welcome Title'
  requirements:
    _permission: 'access alexandrie library'

# Lists the books in a given view mode.
happy_alexandrie.books_list_view_mode:
  path: '/books/view/{viewmode}'
  defaults:
    _controller: '\Drupal\happy_alexandrie\Controller\AlexandrieController::booksListViewMode'
    _title: 'Welcome Title'
    viewmode: 'node.teaser'
  requirements:
    _permission: 'access alexandrie library'
  options:
    parameters:
      viewmode:
        type: entity:entity_view_mode